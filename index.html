<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

        <title>VDM - PMESP</title>

        <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.css">
        <link rel="stylesheet" type="text/css" href="assets/css/custom.css">
		<script src="https://kit.fontawesome.com/adfa1ef613.js" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	       <link rel="icon" href="assets/img/copom/copom.png" type="image/x-icon">
    </head>

    <body>

        <div class="container">
            <div class="row mt-3">
                <div class="d-flex justify-content-center">
                    <img class="img-fluid" src="assets/img/copom/VDM.png" width="350" alt="copom" />

                </div>

                <div class="col-md-12 mt-3 mx-auto">
					<div class="card border-2 shadow" style="height: 70px; text-align: center;">
						<div class="card-body">
							<div class="equipe-menu d-flex justify-content-center">
								<div class="equipe-item" data-equipe="EQUIPE A">EQUIPE A</div>
								<div class="equipe-item" data-equipe="EQUIPE B">EQUIPE B</div>
								<div class="equipe-item" data-equipe="EQUIPE C">EQUIPE C</div>
								<div class="equipe-item" data-equipe="EQUIPE D">EQUIPE D</div>
								<div class="equipe-item" data-equipe="EQUIPE E">EQUIPE E</div>
							</div>
						</div>
					</div>

					<!-- Seu script JavaScript permanece inalterado -->

					<style>
						.equipe-menu {
							font-size: 20px; /* Ajuste a fonte conforme necessário */
						}

						.equipe-item {
							cursor: pointer;
							margin: 0 10px; /* Espaçamento entre os itens */
							padding: 5px 10px;
							border-radius: 5px;
						}

						.equipe-item.active {
							background-color: #007bff; /* Cor de fundo para o item ativo */
							color: #fff; /* Cor do texto para o item ativo */
						}
					</style>


					<div class="card border-2 mt-2 shadow" style="background-image: url('assets/img/card/background.jpg'); background-size: 1500px;">
                        <div class="card-body">

                            <div class="row text-center">
								<div class="col-md-4 mb-3 mt-4">
									<div class="clock">
										<img src="assets/img/hora/hora.png">
										<div class="hour hand" id="hour"></div>
										<div class="minute hand" id="minute"></div>
										<div class="seconds hand" id="seconds"></div>
									</div>
									<h3 class="mt-4">
										<span id="dataAtual" class="badge bg-secondary">
											<!-- Data será inserida aqui via JavaScript -->
										</span>
									</h3>
									<h1 class="mt-4">
										<span id="horaAtual" class="badge bg-secondary">
											<!-- Data será inserida aqui via JavaScript -->
										</span>
									</h1>

								</div>
									<style>

										.clock{
											height: 320px;
											width: 320px;
											background-color: rgba(255, 255, 255, 0);
											-webkit-backdrop-filter: blur(20px);
											backdrop-filter: blur(20px);
											border-radius: 50%;
											margin: auto;
											top: 0;
											bottom: 0;
											left: 0;
											right: 0;
											box-shadow: 30px 30px 35px rgba(0, 0, 0, 0.123);
											border: 2px solid rgba(255, 255, 255, 0.096);
										}
										.hand{
											position: absolute;
											margin: auto;
											left: 0;
											right: 0;
											background-color: rgb(255, 255, 255);
											-webkit-backdrop-filter: blur(20px);
											backdrop-filter: blur(20px);
											border-radius: 5px;
											transform-origin: bottom;
										}
										.hour{
											height: 60px;
											width: 10px;
											top: 100px;
										}
										.minute{
											height: 80px;
											width: 5px;
											top: 80px;
										}
										.seconds{
											height: 90px;
											width: 3px;
											top: 70px;
										}

										a{
											color: #ffffff;
											font-family: "Poppins",sans-serif;
											font-weight: 500;
											position:absolute;
											right:20px ;
											top:20px;
											border:3px solid #ffffff;
											border-radius: 5px;
											text-decoration:none;
										}
										a>.fa{
											color: #FF0000;
										}
										@media screen and (min-width: 451px) {
											a{
												font-size: 18px;
												padding:8px 12px 8px 12px;
											}
										}

										@media screen and (max-width: 450px) {
											a{
												font-size: 12px;
												padding:5px 8px 5px 8px;
											}
										}
									</style>
								<div class="col-md-4 mt-5">
                                    <img src="assets/img/copom/copom.png" width="380" alt="Imagem 3" class="img-fluid rounded">
                                </div>
								<div class="col-md-4 mb-3">
									<img src="" id="weatherIcon" width="420px" alt="Imagem do Clima" class="img-fluid rounded">
									<h1 class="mt-1">
										<span class="badge bg-danger" id="temperatureBadge">
											<!-- A temperatura será exibida aqui -->
										</span>
									</h1>
								</div>

							</div>


							<div class="marquee-wrapper">
								<div class="container">
									<div class="marquee-block">
										<div class="marquee-inner to-left">

											<div class="marquee-item-icon">
												<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-phone-volume fa-2xl"></i></p>
											</div>

											<div class="marquee-item">
													<h2>810 MIL</h2>
													<h4>Atendimentos 190 e 193</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-land-mine-on fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>282 MIL</h2>
													<h4>Ocorrências Cadastradas</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-person-circle-question fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>81 MIL</h2>
													<h4>Orientações ao Público</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-venus fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>56 SOS</h2>
													<h4>Acionamentos Via APP</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-handcuffs fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>222</h2>
													<h4>Recapturados</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-person-breastfeeding fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>18</h2>
													<h4>Desengasgamento</h4>
												</div>
											</span>
											<span>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-phone-volume fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>810 MIL</h2>
													<h4>Atendimentos 190 e 193</h4>
												</div>

												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-land-mine-on fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>282 MIL</h2>
													<h4>Ocorrências Cadastradas</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-person-circle-question fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>81 MIL</h2>
													<h4>Orientações ao Público</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-venus fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>56 SOS</h2>
													<h4>Acionamentos Via APP</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-handcuffs fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>222</h2>
													<h4>Recapturados</h4>
												</div>
												<div class="marquee-item-icon">
													<p class="text-white" style="margin-top: 10px;"><i class="fa-solid fa-person-breastfeeding fa-2xl"></i></p>
												</div>
												<div class="marquee-item">
													<h2>18</h2>
													<h4>Desengasgamentos</h4>
												</div>
											</span>
										</div>
									</div>

								</div>
							</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
		<footer class="footer mt-auto py-3 bg-dark text-white">
			<div class="container text-center">
				<span class="text-muted">Criado pela VDM Equipe Bravo - 2023 - Atualizado em <span id="anoAtual"></span></span>
				<p>CB PM Luanque & CB PM Jefferson</p>
			</div>
		</footer>
		<script>
			// JavaScript para atualizar o ano atual dinamicamente
			const anoAtualElement = document.getElementById('anoAtual');
			const anoAtual = new Date().getFullYear();
			anoAtualElement.textContent = anoAtual;
		</script>

		<script>
				var hour = document.getElementById("hour");
				var minute = document.getElementById("minute");
				var seconds = document.getElementById("seconds");

				var set_clock = setInterval(
				function clock(){
				var date_now = new Date();
				var hr = date_now.getHours();
				var min = date_now.getMinutes();
				var sec = date_now.getSeconds();

				var calc_hr = (hr * 30) + (min / 2);
				var calc_min =    (min * 6)  ;
				var calc_sec = sec * 6 ;

				hour.style.transform = "rotate(" + calc_hr + "deg)";
				minute.style.transform = "rotate(" + calc_min + "deg)";
				seconds.style.transform = "rotate(" + calc_sec + "deg)";
				}, 1000);
		</script>


		<script>
				// Mapeamento de ícones climáticos
				const iconMappings = {
					"01d": "clear-day",
						"01n": "clear-night",
						"02d": "partly-cloudy-day",
						"02n": "partly-cloudy-night",
						"03d": "cloudy",
						"03n": "cloudy",
						"04d": "overcast-day",
						"04n": "overcast-night",
						"09d": "drizzle",
						"09n": "drizzle",
						"10d": "rain",
						"10n": "rain",
						"11d": "thunderstorms",
						"11n": "thunderstorms",
						"13d": "snow",
						"13n": "snow",
						"50d": "mist",
						"50n": "mist",
						"overcast": "overcast",
						"overcast-day": "overcast-day",
						"overcast-night": "overcast-night",
						"drizzle": "drizzle",
						"hail": "hail",
						"rain": "rain",
						"sleet": "sleet",
						"smoke": "smoke",
						"snow": "snow",
						"partly-cloudy-day": "partly-cloudy-day",
						"partly-cloudy-day-drizzle": "partly-cloudy-day-drizzle",
						"partly-cloudy-day-hail": "partly-cloudy-day-hail",
						"partly-cloudy-day-rain": "partly-cloudy-day-rain",
						"partly-cloudy-day-sleet": "partly-cloudy-day-sleet",
						"partly-cloudy-day-smoke": "partly-cloudy-day-smoke",
						"partly-cloudy-day-snow": "partly-cloudy-day-snow",
						"partly-cloudy-night": "partly-cloudy-night",
						"partly-cloudy-night-drizzle": "partly-cloudy-night-drizzle",
						"partly-cloudy-night-hail": "partly-cloudy-night-hail",
						"partly-cloudy-night-rain": "partly-cloudy-night-rain",
						"partly-cloudy-night-sleet": "partly-cloudy-night-sleet",
						"partly-cloudy-night-smoke": "partly-cloudy-night-smoke",
						"partly-cloudy-night-snow": "partly-cloudy-night-snow",
						"mist": "mist",
						"hurricane": "hurricane",
						"tornado": "tornado",
						"wind": "wind",
						"dust": "dust",
						"dust-day": "dust-day",
						"dust-night": "dust-night",
						"dust-wind": "dust-wind",
						"thunderstorms": "thunderstorms",
						"thunderstorms-day": "thunderstorms-day",
						"thunderstorms-night": "thunderstorms-night",
						"thunderstorms-rain": "thunderstorms-rain",
						"thunderstorms-day-rain": "thunderstorms-day-rain",
						"thunderstorms-night-rain": "thunderstorms-night-rain",
						"thunderstorms-snow": "thunderstorms-snow",
						"thunderstorms-day-snow": "thunderstorms-day-snow",
						"thunderstorms-night-snow": "thunderstorms-night-snow",
						"fog": "fog",
						"fog-day": "fog-day",
						"fog-night": "fog-night",
						"partly-cloudy-day-fog": "partly-cloudy-day-fog",
						"partly-cloudy-night-fog": "partly-cloudy-night-fog",
						"haze": "haze",
						"haze-day": "haze-day",
						"haze-night": "haze-night",
						"partly-cloudy-day-haze": "partly-cloudy-day-haze",
						"partly-cloudy-night-haze": "partly-cloudy-night-haze",
						"Astronomical": "Astronomical",
						"horizon": "horizon",
						"sunrise": "sunrise",
						"sunset": "sunset",
						"moonrise": "moonrise",
						"moonset": "moonset",
						"falling-stars": "falling-stars",
						"solar-eclipse": "solar-eclipse",
						"starry-night": "starry-night",
						"Moon Phases": "Moon Phases",
						"moon-new": "moon-new",
						"moon-waxing-crescent": "moon-waxing-crescent",
						"moon-first-quarter": "moon-first-quarter",
						"moon-waxing-gibbous": "moon-waxing-gibbous",
						"moon-full": "moon-full",
						"moon-waning-gibbous": "moon-waning-gibbous",
						"moon-last-quarter": "moon-last-quarter",
						"moon-waning-crescent": "moon-waning-crescent",
						"Miscellaneous": "Miscellaneous",
						"barometer": "barometer",
						"compass": "compass",
						"windsock": "windsock",
						"thermometer": "thermometer",
						"thermometer-colder": "thermometer-colder",
						"thermometer-warmer": "thermometer-warmer",
						"thermometer-celsius": "thermometer-celsius",
						"thermometer-fahrenheit": "thermometer-fahrenheit",
						"thermometer-glass": "thermometer-glass",
						"thermometer-glass-celsius": "thermometer-glass-celsius",
						"thermometer-glass-fahrenheit": "thermometer-glass-fahrenheit",
						"thermometer-mercury": "thermometer-mercury",
						"thermometer-mercury-cold": "thermometer-mercury-cold",
						"humidity": "humidity",
						"pressure-high": "pressure-high",
						"pressure-low": "pressure-low",
						"pressure-high-alt": "pressure-high-alt",
						"pressure-low-alt": "pressure-low-alt",
						"celsius": "celsius",
						"fahrenheit": "fahrenheit",
						"not-available": "not-available",
						"umbrella": "umbrella",
						"Particles": "Particles",
						"lightning-bolt": "lightning-bolt",
						"raindrop": "raindrop",
						"raindrops": "raindrops",
						"snowflake": "snowflake",
						"star": "star",
						"smoke-particles": "smoke-particles",
						"Beaufort Wind Scale": "Beaufort Wind Scale",
						"wind-beaufort-0": "wind-beaufort-0",
						"wind-beaufort-1": "wind-beaufort-1",
						"wind-beaufort-2": "wind-beaufort-2",
						"wind-beaufort-3": "wind-beaufort-3",
						"wind-beaufort-4": "wind-beaufort-4",
						"wind-beaufort-5": "wind-beaufort-5",
						"wind-beaufort-6": "wind-beaufort-6",
						"wind-beaufort-7": "wind-beaufort-7",
						"wind-beaufort-8": "wind-beaufort-8",
						"wind-beaufort-9": "wind-beaufort-9",
						"wind-beaufort-10": "wind-beaufort-10",
						"wind-beaufort-11": "wind-beaufort-11",
						"wind-beaufort-12": "wind-beaufort-12",
						"UV Index": "UV Index",
						"uv-index": "uv-index",
						"uv-index-1": "uv-index-1",
						"uv-index-2": "uv-index-2",
						"uv-index-3": "uv-index-3",
						"uv-index-4": "uv-index-4",
						"uv-index-5": "uv-index-5",
						"uv-index-6": "uv-index-6",
						"uv-index-7": "uv-index-7",
						"uv-index-8": "uv-index-8",
						"uv-index-9": "uv-index-9",
						"uv-index-10": "uv-index-10",
						"uv-index-11": "uv-index-11"
				};

				// Array de chaves da API
				const apiKeys = [
					'4c5dc514e3916f19a1c5a130c0dce6e9',
					'11fbad940f13e551359d9b78841b6ca2',
					'654c5206db66b81fe4da9975069cd919',
					'6db3438a7a406c3b2debbbce37b131f6',
					'cd1a6be79292e6a7a41787e71482b253',
					'984e0b88167798bca973840a8631f9bb',
					'33dc769f036bcc660ab681671f5a2fdf',
					'3b3e666dc40aaeba022b23c88a7a9ca0',
					'a738dee4452e2daa582e095042bcc776',
					'4d3450d3d60f24d39bcea3a2f1ac44f4',
					'99bcc68ae5dae665e99c60fd580593f2',
					'c6cfc821953d14dfa0df2795b18e6d02',
					'da6e3700259fe1ae0df2f1da79912cba',
					'1750abe924631a1aff995586d4639b98',
					'5242330fff365b6410cc2dcbfee41099',
				];

				// Índice da chave atual
				let currentApiKeyIndex = 0;

				// Função para rotacionar a chave da API
				function rotateApiKey() {
					currentApiKeyIndex = (currentApiKeyIndex + 1) % apiKeys.length;
				}

				// Função para carregar a imagem padrão
				function loadDefaultImage() {
					document.getElementById('weatherIcon').src = 'https://cdn2.iconfinder.com/data/icons/basic-icons-5/64/WEATHER-512.png';
				}

				// Função para verificar a existência de um ícone
				async function checkIconExistence(url) {
					return new Promise((resolve) => {
						const img = new Image();
						img.onload = () => resolve(true);
						img.onerror = () => resolve(false);
						img.src = url;
					});
				}

				// Função para obter a temperatura
				async function getTemperature() {
					const apiKey = apiKeys[currentApiKeyIndex];
					rotateApiKey(); // Rotaciona a chave da API para a próxima requisição

					const latitude = '-23.532018';
					const longitude = '-46.634006';
					const units = 'metric';

					try {
						// Faz a requisição à API do OpenWeatherMap
						const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&APPID=${apiKey}&units=${units}`);
						const data = await response.json();

						// Extrai a temperatura e outras informações necessárias
						const temperature = data.main.temp;
						document.getElementById('temperatureBadge').innerText = `Temperatura: ${temperature}°C`;

						const currentHour = new Date().getHours();
						const timeOfDay = currentHour >= 6 && currentHour < 18 ? 'day' : 'night';

						const weatherIconCode = data.weather[0].icon;
						const iconName = iconMappings[weatherIconCode];

						// Verifica se o ícone mapeado existe
						const iconPath = iconName
							? `assets/img/clima/${iconName}.svg`
							: 'https://cdn2.iconfinder.com/data/icons/basic-icons-5/64/WEATHER-512.png';

						// Verifica se o ícone mapeado realmente existe antes de atribuir o caminho
						const iconExists = await checkIconExistence(iconPath);

						if (iconExists) {
							document.getElementById('weatherIcon').src = iconPath;
						} else {
							console.warn(`Ícone mapeado não encontrado: ${iconPath}`);
							loadDefaultImage();
						}

					} catch (error) {
						console.error('Erro ao obter a temperatura:', error);
						loadDefaultImage();
					}
				}

					// Executa a função ao carregar a página e a cada 15 minutos
				window.onload = function () {
					getTemperature();
					setInterval(getTemperature, 15 * 60 * 1000); // Rotaciona a chave a cada 15 minutos
				};
		</script>







		<script>
			// Função para formatar números menores que 10 com um zero à esquerda
			function formatNumero(numero) {
				return numero < 10 ? '0' + numero : numero;
			}

			// Função para obter a data e hora atual
			function atualizarDataHora() {
				var agora = new Date();
				var meses = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];
				var data = formatNumero(agora.getDate()) + ' de ' + meses[agora.getMonth()] + ' de ' + agora.getFullYear();
				var hora = formatNumero(agora.getHours()) + ':' + formatNumero(agora.getMinutes()) + ':' + formatNumero(agora.getSeconds());

				// Atualiza os elementos HTML com a data e hora
				document.getElementById('dataAtual').innerText = data;
				document.getElementById('horaAtual').innerText = hora;
			}

			// Chama a função inicialmente para exibir os valores imediatamente
			atualizarDataHora();

			// Chama a função a cada segundo para manter a atualização em tempo real
			setInterval(atualizarDataHora, 1000);
		</script>
		<script>
			$(document).ready(function () {
				var equipeImagens = {
					'EQUIPE A': 'assets/img/logos/alpha.png',
					'EQUIPE B': 'assets/img/logos/bravo.png',
					'EQUIPE C': 'assets/img/logos/charlie.png',
					'EQUIPE D': 'assets/img/logos/delta.png',
					'EQUIPE E': 'assets/img/logos/echo.png'
				};

				$('.equipe-item').click(function () {
					// Remove a classe 'active' de todos os itens
					$('.equipe-item').removeClass('active');

					// Adiciona a classe 'active' ao item clicado
					$(this).addClass('active');

					// Obtém a equipe associada ao item clicado
					var equipe = $(this).data('equipe');

					// Obtém a imagem correspondente ao texto da equipe
					var novaImagem = equipeImagens[equipe];

					// Atualiza a imagem
					$('.col-md-4 img').eq(1).attr('src', novaImagem);
				});
			});
		</script>

        <link rel="stylesheet" href="assets/js/jquery.js">
    </body>
</html>
